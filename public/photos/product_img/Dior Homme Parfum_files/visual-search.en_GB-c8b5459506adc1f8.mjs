(self.modernJsonp=self.modernJsonp||[]).push([["91533"],{345463:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"7cd65bb908c0282c47af2a2dc30819668fdb6b1e8614019a84c0ea7e8c4cad07",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};a.hash="a0953a7ea15ce447a2452bbeca8586ba";let n=a;var l,o,r,s=a.default||a;if("query"===s.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(s);else{let e=[s.params.name,s.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=s}},807352:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPage_pin"}],type:"Pin",abstractKey:null};a.hash="df8cf9d2521b1a82156cc4ecd7b04884";let n=a},272636:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="a4c8c4488bd813d69ca9e96072e3d2d7";let n=a},189039:function(e,t,i){i.r(t),i.d(t,{default:()=>n});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDynamicJustify",kind:"LinkedField",name:"dynamicJustifyContent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="89000b08539b2d49298d8c3af31ee2f4";let n=a},573631:function(e,t,i){i.d(t,{G:()=>s,b:()=>c});var a=i(281098),n=i(667294),l=i(825332),o=i(785893);let r=(0,n.createContext)(!0);function s({children:e}){(0,n.useEffect)(()=>{(0,a.Z)("InitialPageContext","/app/packages/InitialPageContext.tsx")},[]);let t=(0,l.TH)(),i=(0,n.useRef)(t).current===t;return(0,o.jsx)(r,{value:i,children:e})}function c(){return(0,n.useContext)(r)}},530848:function(e,t,i){i.d(t,{Z:()=>c});var a=i(281098),n=i(667294),l=i(20256),o=i(93966),r=i(785893);function s(){return(0,n.useEffect)(()=>{(0,a.Z)("EmptyItemRep","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRep.tsx")},[]),(0,r.jsx)(l.xu,{width:o.yF})}function c(){return(0,n.useEffect)(()=>{(0,a.Z)("EmptyItemRepList","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRepList.tsx")},[]),(0,r.jsx)(n.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,r.jsx)(s,{},t))})}},730378:function(e,t,i){i.d(t,{Z:()=>c});var a=i(281098),n=i(667294),l=i(20256),o=i(452918),r=i(785893);let s=new Map([["pin",4],["explorearticle",2]]);function c({children:e,itemType:t,overrideMargin:i}){return(0,n.useEffect)(()=>{(0,a.Z)("StructuredFeedElementWrapper","/app/packages/StructuredFeed/ItemReps/utils/StructuredFeedElementWrapper.tsx")},[]),(0,r.jsx)(l.xu,{marginBottom:i||s.get(t)||o.mT,children:e})}},793760:function(e,t,i){i.r(t),i.d(t,{default:()=>eo});var a,n=i(281098),l=i(667294);i(167912);var o=i(20256),r=i(761578),s=i(28427),c=i(351607),d=i(431870),u=i(932088),h=i(93966),p=i(385292),m=i(733029),g=i(774937),f=i(452918),y=i(207729),_=i(785893);let x=()=>(0,_.jsx)(o.xu,{color:"secondary",height:h.yF,width:h.yF}),w={1:{itemRep:m.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:g.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function b({auxData:e,componentFallback:t,showExpanded:i=!0,story:a,view:r,viewParameter:s}){(0,l.useEffect)(()=>{(0,n.Z)("FreeformModule","/app/packages/StructuredFeed/ModuleReps/FreeformModule/FreeformModule.tsx")},[]);let c=(w[(a.display_options?.content_display||{}).model_type]||f.g5).itemRep||x,d=a.display_options?.content_display?.component_type??t;return(0,_.jsx)(o.xu,{marginBottom:2,children:(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[a.title&&(0,_.jsx)(y.Z,{showExpanded:i,storyKey:{type:"Legacy",data:a}}),(0,_.jsx)(o.kC,{gap:2,justifyContent:"center",wrap:!0,children:a.objects?.map(function(t,i){return(0,_.jsx)(c,{auxData:e,component:d,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:i,item:t,story:a,view:r,viewParameter:s},i)})})]})})}var v=i(467925),S=i(757947),j=i(530848),k=i(634232),P=i(730378),C=i(284660),T=i(342978),I=i(88828),F=i(647709);let E="rgba(0, 0, 0, 0)",Z={1:375};function A({auxData:e,componentFallback:t,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:a,disableHeader:n,dynamicItemWidth:r,initialSlotIndex:s=0,showExpanded:c,story:d,surface:u,view:p,viewParameter:m,width:g}){let f=(0,F.HG)(),x=d.display_options?.content_display||{},w=x.model_type,{action:b}=d,A=i||d.action?.url||"",M=x.component_type??t,D=x.grid_layout?.rows,L="number"==typeof D?D:1,R=x.grid_layout?.cols,H="number"==typeof R?R:-1,z=-1===H,O=x.dynamic_item_width||{},K=O.narrow_view?Z[O.narrow_view]:"100%",N=a??x.content_visible_item_count?.web,V=N&&g&&r?(0,h.Wv)({defaultItemWidth:h.yF,contentVisibleItemCount:N,gap:h.oX,moduleWidth:"number"==typeof g?g:parseInt(g,10)}):h.yF,{containerRef:B,itemsToRender:W,actionItem:U}=(0,I.Z)({items:d.objects||[],itemWidth:(0,C.Z)()?h.tG:V,itemGap:h.oX,actionItemType:b?"one":void 0,numRows:L}),G=U?U&&"object"==typeof U?1===w||4===w?U.images?.orig?.url||"":2===w&&U.image_large_url||"":"":void 0,$=z?W:d.objects||[],{experimentalGutterBoints:Y}=(0,v.Z)(),q=$.map((t,i)=>(0,_.jsx)(P.Z,{itemType:"string"==typeof t.type?t.type:null,children:(0,_.jsx)(k.Z,{auxData:e,boardKey:null,component:M,imagePlaceholderColor:E,imageWidth:V,item:t,pinKey:null,relatedInterestKey:null,slotIndex:(s??0)+i,story:d,surface:u,view:p,viewParameter:m})},i)),J=!!A&&!!b?.text&&G&&(0,_.jsx)(S.Z,{auxData:e,buttonText:b.text,component:M,contentIds:d.content_ids,element:179,imageWidth:V,previewImageSrc:G,shape:function(e){switch(e){case 1:default:return"square";case 4:case 2:return"circle"}}(w??1),storyId:d.id,storyType:d.story_type,url:A,view:p,viewParameter:m});return(0,_.jsxs)(o.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",width:K,children:[d.title&&!n&&(0,_.jsx)(y.Z,{showExpanded:c,storyKey:{type:"Legacy",data:d}}),z?(0,_.jsxs)(T.Z,{containerRef:B,itemGap:h.oX,numRows:L,rowAlignment:"center",children:[q,J,L>1&&(0,_.jsx)(j.Z,{})]}):(0,_.jsxs)(l.Fragment,{children:[H>1?Array(L).fill(null).map((e,t)=>(0,_.jsx)(o.kC,{alignItems:"stretch",gap:Y??(f?h.jC:h.D6),justifyContent:"start",width:"100%",wrap:H<=1,children:H>0&&Array(H).fill(null).map((e,i)=>{let a=q[t*H+i];return(0,_.jsx)(o.kC.Item,{flex:"grow",children:a},i)})},$[t].id)):(0,_.jsx)(o.kC,{direction:"column",children:q}),J]})]})}function M({auxData:e,componentFallback:t,showExpanded:i=!0,story:a,view:n,viewParameter:l}){let r=a.display_options?.content_display?.component_type??t,s=(0,C.Z)()?h.tG:h.yF;return(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[a.title&&(0,_.jsx)(y.Z,{showExpanded:i,storyKey:{type:"Legacy",data:a}}),(0,_.jsx)(o.Rk,{columnWidth:s,gutterWidth:h.oX,items:a.objects||[],layout:"flexible",renderItem:({data:t,itemIdx:i})=>(0,_.jsx)(k.Z,{auxData:e,boardKey:null,component:r,imagePlaceholderColor:E,item:t,pinKey:null,relatedInterestKey:null,slotIndex:i??0,story:a,view:n,viewParameter:l},i)})]})}function D(e){switch((0,l.useEffect)(()=>{(0,n.Z)("GridSectionModule","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridSectionModule.tsx")},[]),e.story.display_options?.content_display?.pins_display){case 3:case 1:case 2:return(0,_.jsx)(M,{...e});default:return(0,_.jsx)(A,{...e})}}var L=i(956077),R=i(461951);let H={0:"400",1:"400",2:"700",3:"600",4:"200"};function z({auxData:e,component:t,onImageLoad:i,story:a,view:r,viewParameter:s}){(0,l.useEffect)(()=>{(0,n.Z)("SingleImageHero","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHero.tsx")},[]);let{id:d,story_type:u,title:h="",description:p=""}=a,{hero_display_options:m,attribution_display_options:g}=a.display_options?.header_display||{},f=a.display_options?.header_display||{},y=H[f?.header_size||1],{image_style:x,dominant_color:w,width_height_ratio:b=1,image_url:v}=m||{},{text:S,subspan_text:j,attribution_action:k,icon:P}=g||{},{subspan_only:C}=k||{},T=(0,c.ZP)({loggingId:d,objectIdStr:d,impressionType:"Story",contextLogData:(0,l.useMemo)(()=>({story_id:d,story_type:u,...e}),[d,u,e]),slotIndex:0,viewParameter:s,viewType:r,componentType:t}),I="string"==typeof h?h:h?.format??"",F="string"==typeof p?p:p?.format??"";return(0,_.jsx)(o.xu,{ref:T,"data-test-id":"sf-single-image-hero",children:(0,_.jsxs)(o.kC,{direction:"column",children:[(0,_.jsxs)(o.xu,{overflow:"hidden",position:"relative",children:[(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:1===x?{__style:{filter:"blur(4px)",transform:"scale(1.05)"}}:void 0,children:(0,_.jsx)(o.xu,{width:"100%",children:(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:`${b} / 1`}},children:(0,_.jsx)(o.Ee,{alt:"",color:w||"#fff",fit:"cover",naturalHeight:1,naturalWidth:b||1,onLoad:i,role:"presentation",src:v||void 0,children:3===x?(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:R.OHS}},"data-test-id":"single-image-hero-gradient-overlay-top",height:"50%",left:!0,position:"absolute",right:!0,top:!0}),(0,_.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:R.AEu}},"data-test-id":"single-image-hero-gradient-overlay-bottom",height:"50%",left:!0,position:"absolute",right:!0})]}):null})})})}),(0,_.jsx)(o.xu,{bottom:!0,"data-test-id":"bottom-title",padding:4,position:"absolute",children:(0,_.jsx)(o.X6,{accessibilityLevel:1,color:"light",size:y,children:I})})]}),(0,_.jsx)(o.xu,{marginTop:4,paddingX:4,children:(0,_.jsxs)(o.kC,{direction:"column",children:[(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.xv,{size:"300",children:F})}),g&&(0,_.jsx)(o.xu,{"data-test-id":"single-image-hero-attribution-container",marginTop:3,children:(0,_.jsxs)(o.kC,{alignItems:"center",direction:"row",children:[1===P&&(0,_.jsx)(o.JO,{accessibilityLabel:"",color:"brandPrimary",dataTestId:"single-image-hero-pinterest-icon",icon:"pinterest",size:24}),2===P&&(0,_.jsx)(o.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-info-circle-icon",icon:"info-circle",size:24}),3===P&&(0,_.jsx)(o.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-arrow-up-right-icon",icon:"arrow-up-right",size:24}),(0,_.jsx)(o.xu,{marginStart:2*(0!==P),children:(()=>{if(!g||!S)return null;if(!k?.url)return(0,_.jsx)(o.xv,{size:"100",children:S});switch(C){case 1:{if(!j)return(0,_.jsx)(o.xv,{size:"100",children:S});let e=S.indexOf(j);if(-1===e)return(0,_.jsx)(o.xv,{size:"100",children:S});let t=S.substring(0,e),i=S.substring(e+j.length);return(0,_.jsxs)(o.xv,{size:"100",children:[t,(0,_.jsx)(o.xv,{inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(o.rU,{display:"inline",href:k.url,underline:"none",children:j})}),i]})}case 2:return(0,_.jsx)(o.xv,{size:"100",children:(0,_.jsx)(o.rU,{href:k.url,children:S})});default:return(0,_.jsx)(o.xv,{size:"100",children:S})}})()})]})})]})})]})})}var O=i(825332),K=i(980787),N=i(744862),V=i(821342),B=i(19585),W=i(361055);let U=({actionText:e,actionUrl:t,articleId:i,author:a,authorAvatar:r,auxData:s,component:d,contentIds:u,coverImage:h,debug:p,index:m,isFullWidth:g=!1,onImageLoad:f,storyId:y,storyType:x,subtitle:w,title:b,view:v,viewParameter:S,width:j,windowWidth:k})=>{(0,l.useEffect)(()=>{(0,n.Z)("Hero","/app/packages/StructuredFeed/ModuleReps/HeroModule/Hero.tsx")},[]);let P=(0,B.ZP)(),C=(0,O.s0)(),{logContextEvent:T}=(0,K.u)(),[I,F]=(0,l.useState)(!1),E=(0,V.Z)(),Z=E.isAuth?E?.avatar_color_index:void 0,A=(0,c.ZP)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:u,story_id:y,story_type:x,article_id:i,...s},slotIndex:m,viewParameter:S,viewType:v,componentType:d});return(0,_.jsx)(o.xu,{"data-test-id":"sf-hero",children:(0,_.jsxs)(o.xu,{ref:A,height:"auto",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),width:j,children:[(0,_.jsx)(o.iP,{onTap:()=>{T({event_type:101,view_type:v,view_parameter:S,component:d,aux_data:{article_id:i,content_ids:u,story_id:y,story_type:x,...s}}),C(t)},children:(0,_.jsxs)(o.xu,{height:g?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,_.jsx)(o.Ee,{alt:P.bt("Cover image of this shopping spotlight", "Cover image of this shopping spotlight", "hero.heroCoverImage", undefined, true),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:f,src:h,children:(0,_.jsx)(o.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,_.jsx)(o.xu,{bottom:!0,marginBottom:12*!!g,padding:6,position:"absolute",width:"100%",children:(0,_.jsxs)(o.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"translateY(-20px)":"translateY(20px)"}},children:(0,_.jsx)(o.X6,{color:"light",size:k<=822?"700":k<1e3?"400":k<1100?"600":"700",children:b})}),(0,_.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!I,transition:I?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:I?"auto":20,overflow:"hidden",children:[(0,_.jsx)(o.xv,{color:"inverse",children:w}),a&&(0,_.jsx)(o.xu,{marginTop:4,children:(0,_.jsxs)(o.kC,{alignItems:"center",direction:"row",children:[(0,_.jsx)(N.qE,{color:Z,name:a,size:"md",src:r})," ",(0,_.jsx)(o.xv,{color:"inverse",children:a})]})})]}),(0,_.jsx)(o.xu,{marginTop:4,width:"74px",children:(0,_.jsx)(o.zx,{color:"white",onClick:()=>{C(t)},size:"lg",text:e})})]})})]})}),void 0!==p&&(0,_.jsx)(W.Z,{data:p})]})})};var G=i(300685),$=i(458684),Y=i(828942);function q({auxData:e,onImageLoad:t,story:i,view:a,viewParameter:r,component:s,width:c}){(0,l.useEffect)(()=>{(0,n.Z)("SingleImageHeroCarousel","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroCarousel.tsx")},[]);let[d,u]=(0,l.useState)(0),h=(0,l.useRef)(null),p=i.objects?.slice(0,3)||[];return(0,_.jsxs)(o.xu,{ref:h,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:c,children:[(0,_.jsx)(G.Z,{containerRef:h.current,id:i.id,index:d,slideWidth:c,children:p.map((n,l)=>(0,_.jsx)(U,{actionText:n.action?.text||"",actionUrl:n.action?.url||"",articleId:n.id,auxData:e,component:s,coverImage:n.cover_images&&n.cover_images[0].originals?.url||"",debug:n.debug,index:l,isFullWidth:!0,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:n.subtitle?.format||"",title:n.title?.format||"",view:a,viewParameter:r,width:c,windowWidth:c},n.id))}),(0,_.jsx)(o.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,_.jsx)($.default,{addEllipsis:!0,backNode:(0,_.jsx)(Y.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:d,entityId:"",carouselSlots:p.map(e=>({id:e.id,title:null}))},carouselIndex:d,forwardNode:(0,_.jsx)(Y.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{u(e)},pinKey:null})})]})}function J({auxData:e,onImageLoad:t,story:i,view:a,viewParameter:o,component:r,width:s}){(0,l.useEffect)(()=>{(0,n.Z)("SingleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroDisplay.tsx")},[]);let c=i.objects&&i.objects.length>0,d=i.display_options?.header_display?.hero_display_options?.image_url;return!c&&d?(0,_.jsx)(z,{auxData:e,component:r,onImageLoad:t,story:i,view:a,viewParameter:o}):(0,_.jsx)(q,{auxData:e,component:r,onImageLoad:t,story:i,view:a,viewParameter:o,width:s})}function X({auxData:e,component:t,onImageLoad:i,story:a,view:r,viewParameter:s,windowWidth:c}){(0,l.useEffect)(()=>{(0,n.Z)("TripleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/TripleImageHeroDisplay.tsx")},[]);let d=a.objects?.slice(0,3)||[];return d.length<3?null:(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[0].dominant_colors[0]}},flex:"grow"}),d.map((n,l)=>(0,_.jsx)(U,{actionText:n.action?.text||"",actionUrl:n.action?.url||"",articleId:n.id,auxData:e,component:t,coverImage:n.cover_images&&n.cover_images[0].originals?.url||"",debug:n.debug,index:l,onImageLoad:i,storyId:a.id,storyType:a.story_type,subtitle:n.subtitle?.format||"",title:n.title?.format||"",view:r,viewParameter:s,width:500,windowWidth:c},n.id)),(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[2].dominant_colors[0]}},flex:"grow"})]})}function Q({auxData:e,component:t,pwtSurfaceContext:i,story:a,view:s,viewParameter:c}){(0,l.useEffect)(()=>{(0,n.Z)("HeroModule","/app/packages/StructuredFeed/ModuleReps/HeroModule/HeroModule.tsx")},[]);let{width:d=0}=(0,r.Z)()||{},u=()=>{(0,L.Nx)("RenderHeroImages"),i&&i.markConstraintComplete("RenderHeroImages")},h=d>822&&(a.objects?.length??0)>=3?3:1;return(0,_.jsx)(l.Fragment,{children:(0,_.jsx)(o.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:3===h?(0,_.jsx)(X,{auxData:e,component:t,onImageLoad:u,story:a,view:s,viewParameter:c,windowWidth:d}):(0,_.jsx)(J,{auxData:e,component:t,onImageLoad:u,story:a,view:s,viewParameter:c,width:d})})})}function ee({story:e}){(0,l.useEffect)(()=>{(0,n.Z)("SingleImageUpsellModule","/app/packages/StructuredFeed/ModuleReps/SingleImageUpsellModule/SingleImageUpsellModule.tsx")},[]);let t=(0,O.s0)(),{user:i,custom_properties:a,action:r}=e||{},{full_name:s,username:c,image_medium_url:d,avatar_color_index:u}=i||{},p=s||e.title?.format||"",{url:m,text:g}=r||{},{image:f}=a||{};if(!m||!g)return null;let y=(0,_.jsxs)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[c&&d&&(0,_.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,_.jsx)(N.qE,{color:u||void 0,name:c,size:"sm",src:d})}),p&&(0,_.jsx)(o.xv,{color:"inverse",weight:"bold",children:p})]});return(0,_.jsxs)(o.xu,{marginBottom:4,width:h.yF,children:[(0,_.jsx)(o.iP,{onTap:()=>t(m),children:(0,_.jsx)(o.zd,{height:h.yF,rounding:2,wash:!0,children:"string"==typeof f&&f?(0,_.jsx)(o.Ee,{alt:p,fit:"contain",naturalHeight:h.yF,naturalWidth:h.yF,src:f,children:y}):(0,_.jsx)(o.xu,{height:h.yF,width:h.yF,children:y})})}),(0,_.jsx)(o.xu,{marginTop:3,children:(0,_.jsx)(o.ZP,{fullWidth:!0,href:m,text:g})})]})}let et=new Set([101]);var ei=i(598579);let ea="UNKNOWN_CONTAINER_TYPE",en={2:"center",3:"end",1:"start"},el=(void 0!==a||(a=i(189039)).hash&&"89000b08539b2d49298d8c3af31ee2f4"!==a.hash&&console.error("The definition of 'StructuredFeedStoryModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function eo(e){var t;(0,l.useEffect)(()=>{(0,n.Z)("StructuredFeedStoryModule","/app/packages/StructuredFeed/ModuleReps/utils/StructuredFeedStoryModule.tsx")},[]);let{auxData:i,componentFallback:a,initialSlotIndex:h,view:p,viewParameter:m,width:g}=e,{story:f,storyKey:x,...w}=e,{width:v=0}=(0,r.Z)()||{},S=(0,s.Z)(el,x),j=S?.displayOptions?.contentDisplay?.componentType??a,k={...w,component:j},P=(0,c.ZP)({clientTrackingParams:S?.trackingParams,componentType:j,contextLogData:{story_id:S?.storyId,story_type:S?.storyType,content_ids:S?.contentIds,...i},impressionType:"Story",loggingId:S?.storyId,slotIndex:h||0,viewParameter:m,viewType:p}),C=v<=ei.$R?S?.displayOptions?.contentDisplay?.dynamicJustifyContent?.narrowView?en[S.displayOptions.contentDisplay.dynamicJustifyContent.narrowView]:"start":S?.displayOptions?.contentDisplay?.dynamicJustifyContent?.wideView?en[S.displayOptions.contentDisplay.dynamicJustifyContent.wideView]:"start",T=(()=>{switch(S?.containerType){case 90:case 139:return(0,_.jsx)(d.default,{...k,story:f,storyKey:S,width:g});case 88:return(0,_.jsx)(y.Z,{...k,storyKey:S});case 89:let{location:e,text:t,url:i}=S?.action||{};return(0,_.jsx)(u.Z,{location:e,text:t,url:i});case 91:return!!f&&(0,_.jsx)(D,{...k,story:f});case 101:return!!f&&(0,_.jsx)(Q,{...k,story:f});case 92:return!!f&&(0,_.jsx)(ee,{...k,story:f});case 131:return!!f&&(0,_.jsx)(b,{...k,story:f});default:return ea}})();return T===ea?null:(0,_.jsxs)(o.xu,{ref:P,"data-test-id":S?.storyType??"structured-feed-story-module",display:"flex",justifyContent:C,width:(t=S?.containerType,et.has(t))?void 0:g,children:[T,(0,_.jsx)(o.xu,{})]})}},524884:function(e,t,i){i.d(t,{Z:()=>n});var a=i(785893);let n=(0,a.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})})},291892:function(e,t,i){i.d(t,{Z:()=>r});var a=i(281098),n=i(667294),l=i(284778),o=i(785893);function r({alt:e,children:t,color:i,elementTiming:r,fetchPriority:s,isActive:c=!1,naturalHeight:d,naturalWidth:u,onLoad:h,src:p,fit:m="none",srcSet:g,...f}){(0,n.useEffect)(()=>{(0,a.Z)("ImageWithPerfTiming","/app/packages/pwt-logger/ImageWithPerfTiming.tsx")},[]);let y=(0,n.useRef)(null),_=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(p!==y.current||c&&c!==_.current){y.current=p??null;let e=document.querySelector(`img[src="${p}"]`)||null;e?.complete&&h()}_.current=c},[p,h,c]),(0,o.jsx)(l.Z,{...f,alt:e,color:i,elementTiming:r,fetchPriority:s,fit:m,naturalHeight:d,naturalWidth:u,onLoad:h,src:p,srcSet:g,children:t})}},62937:function(e,t,i){i.d(t,{Z:()=>a});let a=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},342978:function(e,t,i){i.d(t,{Z:()=>s});var a=i(281098),n=i(667294),l=i(20256),o=i(785893);let r={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:i,numRows:s=1,rowAlignment:c="center"}){(0,n.useEffect)(()=>{(0,a.Z)("StoryRow","/app/packages/ui/StoryRow.tsx")},[]);let d=r[c];return(0,o.jsx)(l.xu,{ref:i,width:"100%",children:(0,o.jsx)(l.kC,{alignItems:"center",justifyContent:d.outer,children:(0,o.jsx)(l.kC,{dataTestId:"story-row-items-container",gap:{row:Math.floor(t/4),column:0},justifyContent:d.inner,wrap:s>1,children:e})})})}},88828:function(e,t,i){i.d(t,{Z:()=>n});var a=i(667294);function n({items:e,itemWidth:t,itemGap:i,numRows:n=1,actionItemType:l}){let o,[r,s]=function(){let[e,t]=(0,a.useState)(0),i=(0,a.useRef)(null),n=(0,a.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,a.useEffect)(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[n]),(0,a.useEffect)(n),[e,i]}(),c=Math.floor((r+i)/(t+i))*n||n,d=e.slice(0,c),u=[];switch(l){case"nextFour":if(c>=e.length){let e=d.pop();u=e?[e]:[]}else d.pop(),u=e.slice(c-1,c+3);break;case"one":o=c>e.length?e[Math.floor(e.length/2)]:d.pop()}return{containerRef:s,itemsToRender:d,actionItem:o,nextFourItems:u}}},244074:function(e,t,i){i.d(t,{Z:()=>n});var a=i(667294);let n=()=>{let e=(0,a.useRef)(!1);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},357823:function(e,t,i){i.d(t,{Z:()=>c});var a=i(281098),n=i(667294),l=i(20256),o=i(980787),r=i(19585),s=i(785893);function c({auxData:e,enabled:t,onPull:i,refreshing:c,viewParameter:d}){(0,n.useEffect)(()=>{(0,a.Z)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx")},[]);let u=(0,r.ZP)(),{logContextEvent:h}=(0,o.u)(),p=4079===d,{position:m,startYRefCurrent:g,pullDistance:f}=function({enabled:e,onSelect:t,refreshing:i}){let a=(0,n.useRef)(null),[l,o]=(0,n.useState)(0),[r,s]=(0,n.useState)(!1),c=i?0:l/250,d=c>0,u=()=>{s(!1),o(0)};return(0,n.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){let t=(e.touches[0].clientY-a.current)*.5;t>0&&(o(t),e.preventDefault())}},r=()=>{a.current&&(s(!0),t({pullDistance:l,position:c,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",r),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",r)}}},[e,t,l,i,c]),{pullDistance:l,hasStartPulling:d,position:c,startYRefCurrent:a.current,PULL_MENU_DISTANCE:250,isExecuted:r}}({enabled:t,onSelect:t=>{let{pullDistance:a,resetState:n}=t;a>=120&&(h({view_type:1,event_type:158,view_parameter:p?4079:92,aux_data:p?e:{}}),i()),n()},refreshing:c}),y=Math.min(m,1),_=u.bt("Pull to refresh", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,s.jsx)(l.xu,{children:t&&(0,s.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:y,transition:null===g?"all .3s ease-out":void 0}},display:"flex",height:120*m,justifyContent:"center",children:(0,s.jsx)(l.JO,{accessibilityLabel:_,icon:g&&f<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,i){i.d(t,{Z:()=>s});var a=i(281098),n=i(667294),l=i(20256),o=i(647709),r=i(785893);let s=()=>{(0,n.useEffect)(()=>{(0,a.Z)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx")},[]);let e=(0,o.HG)();return(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},648200:function(e,t,i){i.d(t,{Z:()=>c});var a=i(281098),n=i(667294),l=i(821342),o=i(647709),r=i(642859),s=i(785893);let c=({children:e})=>{(0,n.useEffect)(()=>{(0,a.Z)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx")},[]);let t=(0,o.HG)();return!(0,l.Z)().isAuth&&t?(0,s.jsx)(r.x,{children:e}):e}},903098:function(e,t,i){i.d(t,{Z:()=>E});var a=i(281098),n=i(667294),l=i(20256),o=i(937805),r=i(19585),s=i(573631),c=i(291892),d=i(956077),u=i(15667),h=i(159527),p=i(647709),m=i(341742),g=i(35333),f=i(883379),y=i(785893);function _({children:e,isImagePinForUnauthOnTablet:t}){(0,n.useEffect)(()=>{(0,a.Z)("ClickthroughOverlay","/app/www/closeup/duplo/ClickthroughOverlay.tsx")},[]);let{isAuthenticated:i}=(0,u.B)(),o=(0,f.Z)({skipExpActivation:!0});return(0,y.jsxs)(l.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:i?void 0:g.eu,children:[(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:o?void 0:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var x=i(417162),w=i(675973),b=i(607001),v=i(941404),S=i(572227),j=i(741155),k=i(334536);function P({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:i,inviterFirstName:o}){(0,n.useEffect)(()=>{(0,a.Z)("UnauthClickthroughOverlayContent","/app/www/closeup/duplo/unauth/UnauthClickthroughOverlayContent.tsx")},[]);let s=(0,r.ZP)(),c=(0,S.Z)(),d=(0,b.Z)(),u=(0,n.useRef)(null),h="desktop"===(0,p.ZP)(),m=o&&i,g=m&&(s.bt("Sign up to join {{ name }} on Pinterest", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",o),f=s.bt("Click to make the most of this idea with a free account", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),_=s.bt("Tap to make the most of this idea with a free account", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),P=(0,j.Z)(),{checkExperiment:C}=(0,w.Z)(),T=(0,x.g)();return(0,y.jsx)(l.iP,{onMouseEnter:()=>{m&&(0,v.My)("dweb.main_pin.social.wash.view"),(0,v.My)("dweb.pin.wash.view")},onMouseLeave:()=>{m?c({action:"dismiss",item:"main-pin-social-wash"}):c({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{h&&(e.preventDefault(),c({action:"click",item:"pin-image"}),i&&o&&c({action:"click",item:"main-pin-social-wash"}),c({action:"click",item:"main-pin-image-signup-modal"}),C("migration_upsell_manager_redux").anyEnabled||C("migration_upsell_manager_redux_dweb").anyEnabled||C("migration_upsell_manager_redux_mweb").anyEnabled?P((0,k.QA)()):["enabled_all_improved","enabled_all","enabled_pin_wash"].includes(C("dweb_signup_to_login_modal_q2_push").group)?T?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:"click_closeup",container:"pinWash",reason:"UPSELL_LOGIN_OR_SIGNUP"}):d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&c({action:"click",item:"pdp-pin-image"}))},children:(0,y.jsxs)(l.xu,{zIndex:new l.Ry(2),children:[(0,y.jsx)(l.xu,{ref:u,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:i?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,y.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,y.jsx)(l.xu,{marginTop:8,children:(0,y.jsx)(l.X6,{align:"center",color:"light",size:m?"600":"400",children:h?g||f:_})})})}),!h&&(0,y.jsx)(l.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(l.hU,{accessibilityLabel:s.bt("Close Pin clickable wash", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),c({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var C=i(326113),T=i(867552),I=i(603316),F=i(756334);let E=e=>{(0,n.useEffect)(()=>{(0,a.Z)("CloseupImage","/app/www/closeup/duplo/CloseupImage.tsx")},[]);let t=(0,r.ZP)(),{alt:i,clickthroughOverlayOptions:g,color:x,isFlashlightPage:w,naturalHeight:b,naturalWidth:v,placeholder:S,pwtElementTimingId:j,setShowClickthroughOverlay:k,showSpinner:E,src:Z,stickyFooter:A,isEligibleForPdp:M}=e,D=!(0,s.b)(),{isAuthenticated:L}=(0,u.B)(),R=(0,p.ZP)(),H=(0,n.useRef)(null),z=(0,f.Z)({skipExpActivation:!0}),O=(0,n.useRef)(!1),{mWebCloseupRedesignEnabled:K}=(0,o.Z)(),[N,V]=(0,n.useState)(!D||!!Z&&!!S&&S===Z),B=(0,n.useRef)(""),W=()=>{(0,d.Nx)("PinPageMainImageRendered"),O.current||((0,I.nP)("mweb.closeup.closeup_image.load"),O.current=!0)};(0,n.useEffect)(()=>{let e=new Image;e.onload=()=>V(!0),e.src=Z},[]);let U=(0,n.useRef)((0,T.u)()?.setHasScrolledPastMainContent);(0,n.useEffect)(()=>{let e=(0,h.Z)(()=>{if(H.current){let t=window.scrollY>H.current.offsetTop+H.current.offsetHeight;U.current?.(t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]),(0,m.Z)(()=>{Z||(0,I.nP)("mweb.closeup.closeup_image.no_image_url"),(0===b||0===v)&&(0,I.nP)("mweb.closeup.closeup_image.invalid_dimensions")});let G=!w&&"tablet"===R,$=D?(0,y.jsx)(c.Z,{alt:i,color:x,elementTiming:j,naturalHeight:b,naturalWidth:v,onLoad:W,src:S}):null,Y=C.Hg;return(w||"phone"===R||z)&&(Y="100%"),(0,y.jsx)(F.Z,{metricName:"CloseupImage",children:(0,y.jsxs)(l.xu,{ref:H,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===R?C.g6:void 0,minHeight:"auto",overflow:A?void 0:"hidden",position:"relative",rounding:6*(!w&&"phone"!==R),width:Y,children:[!L&&g&&(0,y.jsx)(_,{isImagePinForUnauthOnTablet:!1,children:(0,y.jsx)(P,{inviterFirstName:B.current,isEligibleForPdp:M,setShowClickthroughOverlay:k})}),$&&(G?(0,y.jsx)(l.xu,{overflow:"hidden",rounding:6,children:$}):$),(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!!N,transition:N&&"desktop"!==R?"opacity .5s ease-in-out":void 0,backgroundColor:x}},left:!0,overflow:G?"hidden":void 0,position:D?"absolute":"relative",right:!0,rounding:G?6:5,top:!0,children:D?(0,y.jsx)(l.Ee,{alt:i,fetchPriority:K?"high":void 0,naturalHeight:b,naturalWidth:v,role:K?"img":void 0,src:Z}):(0,y.jsx)(c.Z,{alt:i,color:x,elementTiming:j,fetchPriority:K?"high":void 0,naturalHeight:b,naturalWidth:v,onLoad:W,src:Z})}),E&&(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!N,transition:N?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!N&&(0,y.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(l.xH,{accessibilityLabel:t.bt("Loading image", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),A]})})}},348268:function(e,t,i){i.d(t,{G9:()=>o,SY:()=>s,kk:()=>l,mb:()=>c,s:()=>r});var a=i(93966),n=i(625453);let l=({isDesktop:e})=>{let t=(0,n.Z)({isDesktop:e});return t?-t:0},o=-2,r=({trafficSource:e,deviceType:t,experimentalGutter:i})=>{let n=i??4*a.jC;return"desktop"===t?n:"board"===e?4:void 0},s=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:i})=>{let n=i??a.yF;return"desktop"===e?n:t||200},c=({gutterWidth:e,itemWidth:t,className:i,minColumns:n=a.yc,maxColumns:l=a.g5})=>{let o=t+e;return Array.from({length:l+1-n},(e,t)=>t+n).map(t=>({minWidth:t===n?0:t*o,maxWidth:t===l?null:(t+1)*o-1,styles:`
      .${i} {
        max-width: ${t*o-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:i})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `).join("")}},326113:function(e,t,i){i.d(t,{$K:()=>o,Hg:()=>n,g6:()=>l,w6:()=>a});let a=(e,t)=>Array.from({length:t-e},(t,i)=>i+e),n=508,l=600;function o(e){return null!=e}},79293:function(e,t,i){i.d(t,{Z:()=>g});var a=i(281098),n=i(667294),l=i(20256),o=i(93966),r=i(369416),s=i(647709),c=i(640168),d=i(785893);let u="PinGridSkeletonLoader__tall",h="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?u:h})}),m=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),g=({partialViewportWidth:e})=>{(0,n.useEffect)(()=>{(0,a.Z)("PinGridSkeletonLoader","/app/www/loader/PinGridSkeletonLoader.tsx")},[]);let t="desktop"===(0,s.ZP)(),i=t?o.yF:o.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:u,height:250},{name:h,height:150}].map(({name:e,height:t})=>(0,c.Z)({name:e,width:i,height:t})).join("")}),(0,d.jsx)(l.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:o.qG,marginStart:o.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:o.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},640168:function(e,t,i){i.d(t,{Z:()=>a});let a=({name:e,width:t,height:i})=>{let a=`${t}${"number"==typeof t?"px":""}`,n=`${i}${"number"==typeof i?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${n};
  width: ${a};
  height: ${n};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},80245:function(e,t,i){i.d(t,{By:()=>d,IT:()=>c,N6:()=>n,br:()=>l,jq:()=>r,lU:()=>s,tq:()=>o});var a=i(686319);let n=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),l=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),o=e=>({type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}),r=(e,t,i)=>({type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:t,recent_queries_tags:i}}),s=(e,t,i)=>n=>{(0,a.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,i),n("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},c=(e,t,i,n,l)=>o=>{i||(0,a.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,l),o("PERSONAL"===t?{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}:{type:"CLEAR_RECENT_SEARCH",payload:{query:e}})},d=e=>t=>{t({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}})}},32228:function(e,t,i){i.d(t,{Z:()=>h});var a=i(281098),n=i(667294),l=i(20256),o=i(748130),r=i(816358),s=i(809295),c=i(949044),d=i(974705),u=i(785893);function h({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:i,showProductFilters:h=!1}){(0,n.useEffect)(()=>{(0,a.Z)("OneBar","/app/www/search/OneBar.tsx")},[]);let p=(0,n.useRef)(null),m=(0,n.useRef)(null),[g,f]=(0,n.useState)(0);(0,n.useEffect)(()=>{setTimeout(()=>{m.current?.scrollTo({top:0,left:g,behavior:"smooth"})},1e3)},[g]);let y=new s.ZP;(0,n.useEffect)(()=>{let e=p.current;return e&&r.Z.addObstruction("top",e),()=>{e&&r.Z.removeObstruction("top",e)}});let _=e.map(e=>(0,c.Z)(d.Z,!0)(e));return(0,u.jsx)(l.xu,{ref:p,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(l.xu,{ref:m,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(l.kC,{gap:1,maxWidth:"100%",children:_.map((e,a)=>(0,u.jsx)(o.Z,{hasProductFiltersApplied:t,impressionsFramework:y,index:a,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{h&&i?.(!0)},setLatestSelectedGuideX:f,showMWebProductFilters:h},`OneBarModule-${e.id||""}`))})})})}},94207:function(e,t,i){i.d(t,{Nu:()=>l,q:()=>n,r:()=>o,z5:()=>a});let a=["board_shop_tool_module","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],n="checklist_education_feed_card",l=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],o={"#d7edff":"01","#002966":"01","#cfffca":"02","#ffe0e0":"04","#800000":"04","#dafff6":"06","#fffd92":"07","#c3f9c2":"07","#005f3e":"07","#ffe4c1":"08","#842000":"08","#ffe2eb":"09","#e9e4ff":"10","#400387":"10","#dad4ff":"10","#efefef":"11"}},88410:function(e,t,i){i.d(t,{Z:()=>eW});var a,n,l,o=i(281098),r=i(667294),s=i(821342),c=i(647709),d=i(965060);i(167912);var u=i(20256),h=i(28427),p=i(801082),m=i(19585),g=i(886981),f=i(634737),y=i(169053),_=i(581722),x=i(825332),w=i(761578),b=i(390843),v=i(369416),S=i(914061),j=i(675973),k=i(123998),P=i(351222),C=i(378888),T=i(341742),I=i(359829),F=i(144633),E=i(85363),Z=i(611304),A=i(551651),M=i(762525),D=i(80245),L=i(521009),R=i(503246),H=i(524884),z=i(816358),O=i(15667),K=i(32937),N=i(941404),V=i(572227),B=i(958742),W=i(785893);function U(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let G={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}};class $ extends r.Component{constructor(...e){super(...e),U(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:0,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),U(this,"onTouchStart",e=>{let{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:0})}),U(this,"onTouchMove",e=>{let{clientY:t}=e.touches[0],{startY:i,currentDistanceFromTop:a}=this.state,{canMoveModal:n,maxDistanceFromTop:l}=this.props,o=t-i;n&&void 0!==l&&(o>0&&a>=0&&a<l&&window.scrollY<=0||o<0&&a<=l&&a>=0)&&this.setModalPosition(t)}),U(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:t,canMoveModal:i}=this.props;this.props.shouldSnapToEnds&&2===this.state.scrollDirection?(this.header&&z.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,N.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&1===this.state.scrollDirection&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:!!i,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),this.header&&z.Z.addObstruction("top",this.header),e&&(0,N.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),U(this,"handleHandleMove",e=>{let{clientY:t}=e.touches[0],{canMoveModal:i,maxDistanceFromTop:a,minDistanceFromTop:n}=this.props,{startY:l,currentDistanceFromTop:o}=this.state;i&&o<=(n||0)&&t-l>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:a,isAtTop:!1,scrollDirection:0,shouldAnimate:!0,startY:0}))}),U(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:i,canMoveModal:a}=this.props,{currentDistanceFromTop:n,scrollDirection:l}=this.state;0===l&&(n===e?(this.setState({canScrollOnChildren:!!a,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),(0,N.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,N.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_bottom`)))}),U(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:t}=this.state,{onDismiss:i,logContextEvent:a,maxDistanceFromTop:n,viewParameter:l,viewType:o}=this.props;e.stopPropagation(),i&&(a({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:l,view_type:o}),this.setState({currentDistanceFromTop:n,startY:0,scrollDirection:0},()=>i(e)))}),U(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:t,shouldAnimate:i,canScrollOnChildren:a}=this.state,{baseStyles:n}=G;return{...n,animation:"modalReveal 0.3s ease-out both",position:a?"absolute":"fixed",top:t>-1?t:void 0,bottom:0,width:"100vw",...e&&i?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),U(this,"setModalPosition",e=>{let{startY:t,currentDistanceFromTop:i}=this.state,{maxDistanceFromTop:a,snapToEndThreshold:n,entryPoint:l}=this.props;if(a){let o=e-t,r=Math.floor("CloseupShop"===l||"CloseUpMainPinDrawer"===l?Math.max(0,i+o):Math.min(a,Math.max(0,i+o))),s=0;if(void 0!==n&&n>=0){let e=Math.floor(n*a),t=Math.floor((1-n)*a);o<0?s=r>t?2:1:o>0&&(s=r>e?2:1)}this.setState({startY:e,currentDistanceFromTop:r,scrollDirection:s})}})}componentDidMount(){let{isOpen:e}=this.props;e&&z.Z.pause()}componentDidUpdate(e,t){let{domainFilters:i,priceFilters:a,cropSource:n,isOpen:l,logContextEvent:o,maxDistanceFromTop:r,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:c,entryPoint:d}=this.props,{currentDistanceFromTop:u}=this.state;l&&!e.isOpen?z.Z.pause():!l&&e.isOpen&&z.Z.resume(),"CloseUpMainPinDrawer"===d&&r<e.maxDistanceFromTop&&u>r&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(c||0)&&s&&s(!0),i&&a&&(!(0,R.ZP)(i,e.domainFilters)||!(0,R.ZP)(a,e.priceFilters))&&o({event_type:13,view_parameter:"related_products"===(0,B.Z)(n)?3455:3456,view_type:72,element:11735})}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&z.Z.removeObstruction("top",this.header),e&&z.Z.resume()}render(){let{children:e,headerChildren:t,heading:i,isAuth:a,isInHSObjLevelOneBarExp:n,isOpen:l,isRTL:o,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:s,noDivider:c,showHandle:d}=this.props,{headerHeight:h,canScrollOnChildren:p}=this.state,m=p||!a||n?"0":"32px 32px 0 0";return l?(0,W.jsx)(K.Z,{children:(0,W.jsx)(u.xu,{"aria-label":i,role:"dialog",children:(0,W.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:m}},"data-test-id":"sliding-modal-events-handler",onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,W.jsxs)(u.iP,{accessibilityLabel:this.props.i18n.bt("View all search results", "View all search results", "SlidingModal.Header.a11yLabel", undefined, true),onTap:this.handleHeaderTouch,children:[(0,W.jsxs)(u.Le,{top:h||0,children:[d&&(0,W.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:m}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:H.Z}),n&&(0,W.jsxs)(u.xu,{alignItems:"center",color:"default",display:this.state.isAtTop?"flex":"none",height:60,justifyContent:"center",opacity:+!!this.state.isAtTop,position:"relative",children:[(0,W.jsx)(u.xu,{alignItems:"center",display:"flex",left:!0,marginStart:2,padding:3,position:"absolute",children:(0,W.jsx)(u.JO,{accessibilityLabel:this.props.i18n.bt("Close sliding modal", "Close sliding modal", "slidingModal.hybridSearch.closeModal", undefined, true),color:"default",icon:"arrow-down",size:"20"})}),(0,W.jsx)(u.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,W.jsx)(u.xv,{size:"300",weight:"bold",children:this.props.i18n.bt("More like this", "More like this", "slidingModal.hybridSearch.moreLikeThis", undefined, true)})})]}),!s&&(0,W.jsxs)(u.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,W.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,W.jsx)(u.kC,{alignItems:"center",justifyContent:"start",children:(0,W.jsx)(u.hU,{accessibilityLabel:r||"Close visual search results",dataTestId:"close-visual-search-results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,W.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:t}){let i=t?"marginRight":"marginLeft",a=t?"marginLeft":"marginRight";return e?{[i]:38,[a]:50,marginTop:15,marginBottom:15}:{[i]:-10,[a]:50,marginTop:15,marginBottom:15}}({isRTL:o})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,W.jsx)(u.X6,{accessibilityLevel:2,align:"center",size:"400",children:i})})]}),t||null,!c&&(0,W.jsx)(u.iz,{})]})]}),(0,W.jsx)(u.xu,{overflow:p?"auto":"visible",children:e})]})})})}):null}}function Y(e){(0,r.useEffect)(()=>{(0,o.Z)("SlidingModal","/app/www/SlidingModal.tsx")},[]);let t=(0,m.ZP)(),i=(0,L.Z)(),{isRTL:a}=(0,O.B)(),n=(0,V.Z)(),{isAuth:l}=(0,s.Z)(),{checkExperiment:c}=(0,j.Z)(),d=l&&c("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled;return(0,W.jsx)($,{...e,i18n:t,isAuth:l,isInHSObjLevelOneBarExp:d,isRTL:a,logContextEvent:i,trackInteraction:n})}var q=i(667835),J=i(588836);function X({handleBackClick:e,viewParameter:t,viewType:i}){(0,r.useEffect)(()=>{(0,o.Z)("MobileVisualSearchBackButton","/app/www/VisualSearch/mobile/MobileVisualSearchBackButton.tsx")},[]);let{checkExperiment:a}=(0,j.Z)(),n=(0,q.vs)(),{isAuth:l}=(0,s.Z)(),c=l&&a("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled;return(0,W.jsx)(u.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",right:!0,top:!0,width:"fit-content",children:(0,W.jsx)(J.Z,{bgColor:c?"white":"transparent",color:n||c?"darkGray":"white",disableRedirect:!0,icon:"cancel",isVisualSearch:!0,onTouch:e,padding:3,size:"lg",viewParameter:t,viewType:i})})}var Q=i(93966),ee=i(751961),et=i(845421),ei=i(474147),ea=i(425140),en=i(980787),el=i(793760);function eo(){let[e,t]=(0,r.useState)(0),[i,a]=(0,r.useState)(0),[n,l]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(void 0);function u(){s(!1),l(!1),d(void 0)}function h(e,t){"vertical"!==t&&e.stopPropagation()}return{onCarouselTouchStart:function(e){let{clientX:i,clientY:n}=e.touches[0];t(i),a(n),u()},onCarouselTouchMove:function(t){let{clientX:a,clientY:r}=t.touches[0],u=Math.abs(a-e);Math.abs(r-i)>10&&l(!0),u>10&&s(!0),o&&n?d(e=>e||"vertical"):o?d(e=>e||"horizontal"):n?d(e=>e||"vertical"):d(void 0),h(t,c)},onCarouselTouchEnd:function(e){h(e,c),u()}}}function er({data:e,pinId:t,surfaceType:i,viewParameter:a,viewType:n}){(0,r.useEffect)(()=>{(0,o.Z)("MobileVisualSearchCarousel","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchCarousel.tsx")},[]);let l=(0,m.ZP)(),{logContextEvent:s}=(0,en.u)(),{width:c}=(0,w.Z)()||{},{onCarouselTouchStart:d,onCarouselTouchMove:h,onCarouselTouchEnd:p}=eo(),g=(e?.results||[]).find(e=>"story"===e.type),{url:f=`/pin/${t}`,text:y=""}=g?.action||{},_=l.bt("Shop for similar", "Shop similar", "mobileFlashlight.productUpsellTitle", undefined, true);function x(){s({component:14339,element:179,event_type:102,view_parameter:a,view_type:n})}return g&&"stl"!==i?(0,W.jsxs)(u.xu,{marginBottom:-6,children:[(0,W.jsxs)(u.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,W.jsx)(u.Tg,{href:f,onTap:({event:e})=>{e.stopPropagation(),x()},tapStyle:"compress",children:(0,W.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:_})}),(0,W.jsx)(u.I_,{accessibilityLabel:y||l.bt("See more", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:f,icon:"arrow-forward",iconColor:"darkGray",onClick:x,size:"sm"})]}),(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:p,onTouchMove:h,onTouchStart:d,children:(0,W.jsx)(el.default,{component:14339,disableHeader:!0,story:g,storyKey:g?{type:"Legacy",data:g}:null,surface:"ShoppingDynamicHeightGrid",view:n,viewParameter:a,width:c})})]}):null}var es=i(780879),ec=i(949044),ed=i(974705),eu=i(288910),eh=i(32228);function ep({auxData:e}){(0,r.useEffect)(()=>{(0,o.Z)("MobileVisualSearchOneBar","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchOneBar.tsx")},[]);let{onCarouselTouchStart:t,onCarouselTouchMove:i,onCarouselTouchEnd:a}=eo(),n=e?.metadata?.one_bar_modules,l=(0,ec.Z)(ed.Z,!0)(n);return l&&l.length>0?(0,W.jsx)(eu.v,{children:(0,W.jsx)(es.f,{children:(0,W.jsx)(u.xu,{marginBottom:4,onTouchEnd:a,onTouchMove:i,onTouchStart:t,paddingX:2,children:(0,W.jsx)(u.iP,{onTap:({event:e})=>e.stopPropagation(),children:(0,W.jsx)(eh.Z,{oneBarModules:l})})})})}):null}function em({auxData:e,isShopTheLookFeed:t,pinId:i,searchResourceOptions:a,surfaceType:n,viewParameter:l,viewType:s}){(0,r.useEffect)(()=>{(0,o.Z)("MobileVisualSearchFeed","/app/www/VisualSearch/mobile/Feed/MobileVisualSearchFeed.tsx")},[]);let c=(0,m.ZP)(),{auxData:d,data:h,fetchMore:p,isAtEnd:f,isFetching:y,isLoaded:_}=(0,g.Z)({name:"VisualSearchFlashlightUnifiedResource",options:a}),x=(h?.results||[]).flatMap(e=>"pin"===e.type?e:[]),w=c.bt("Image search", "Image search", "mobileFlashlight.organicFeedTitle", undefined, true),b=c.bt("Shop the Look", "Shop the look", "mobileFlashlight.shopTheLookFeedTitle", undefined, true);return _?(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(ep,{auxData:d}),(0,W.jsx)(er,{data:h,pinId:i,surfaceType:n,viewParameter:l,viewType:s}),(0,W.jsx)(u.xu,{"data-test-id":t?"shop-the-look-feed-title":"organic-feed-title",marginBottom:3,paddingX:4,children:(0,W.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:t?b:w})}),(0,W.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},"data-test-id":t?"shop-the-look-feed":"organic-feed",paddingX:Q.D6,children:(0,W.jsx)(ea.Z,{feedItems:x,feedKey:(0,ei.J)("VisualSearchFlashlightUnifiedResource",a)??"",pagination:{loadNext:p||(()=>void 0),hasNext:!f,isLoadingNext:y||!1,refetch:()=>void 0},renderFeedItem:(i,a)=>(0,W.jsx)(ee.Z,{children:(0,W.jsx)(et.Z,{auxData:e,componentType:0,duploQueryRef:null,pinId:i.id??"",slotIndex:a,trackingParams:i.tracking_params||void 0,trafficSource:t?"shop_feed":void 0,viewParameter:l,viewType:s})})})})]}):(0,W.jsx)(u.xH,{accessibilityLabel:c.bt("Loading visual search results", "Loading visual search results", "mobileFlashlightPage.loadingSpinner", undefined, true),show:!0})}function eg({isShopTheLookFeed:e,searchResourceOptions:t,viewParameter:i,viewType:a}){(0,r.useEffect)(()=>{(0,o.Z)("UnauthMobileVisualSearchFeed","/app/www/VisualSearch/mobile/Feed/UnauthMobileVisualSearchFeed.tsx")},[]);let{data:n,fetchMore:l,isAtEnd:s,isFetching:c}=(0,g.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:t}:{name:"VisualLiveSearchResource",options:t});return(0,W.jsx)(u.xu,{color:"default",paddingX:Q.D6,children:(0,W.jsx)(ea.Z,{feedItems:n?.results??[],feedKey:(0,ei.J)("VisualLiveSearchResource",t)??"",pagination:{loadNext:l||(()=>void 0),hasNext:!s,isLoadingNext:c||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,W.jsx)(ee.Z,{children:(0,W.jsx)(et.Z,{componentType:0,duploQueryRef:null,pinId:e.id??"",slotIndex:t,trackingParams:e.tracking_params,trafficSource:"flashlight",viewParameter:i,viewType:a})})})})}var ef=i(326113);function ey(){return Math.min(ef.g6,window.innerWidth)}function e_(e,t){return Math.floor(ey()/t*e)}var ex=i(244074),ew=i(976892),eb=i(47239),ev=i(615440),eS=i(743222),ej=i(903098);function ek({pinDominantColor:e,url:t,closeupImageWidth:i,closeupImageHeight:a}){(0,r.useEffect)(()=>{(0,o.Z)("CropperCloseupImage","/app/www/VisualSearch/mobile/CropperCloseupImage.tsx")},[]);let n=(0,m.ZP)();return(0,W.jsx)(ej.Z,{alt:n.bt("Pin image", "Pin image", "flashlight.cropper.closeupImage", undefined, true),color:e,isFlashlightPage:!0,naturalHeight:a,naturalWidth:i,placeholder:t,pwtElementTimingId:"cropper-closeup-image",showSpinner:!1,src:t})}let eP=e=>{(0,r.useEffect)(()=>{(0,o.Z)("CropperHandle","/app/www/VisualSearch/mobile/CropperHandle.tsx")},[]);let{alt:t,src:i,top:a,left:n}=e;return(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:a,left:n}},height:24,position:"absolute",width:24,children:(0,W.jsx)(u.Ee,{alt:t,color:"transparent",naturalHeight:24,naturalWidth:24,src:i})})},eC={backgroundColor:"#000000",opacity:"0.4"};function eT({closeupImageUrl:e,closeupImageDims:t,cropArea:{x:i,y:a,w:n,h:l},disableBorder:s,disableHandles:c,handleBackClick:d,onTouchEnd:h,onTouchMove:p,onTouchStart:g,pinDominantColor:f,showBackButton:y,viewParameter:_}){(0,r.useEffect)(()=>{(0,o.Z)("Cropper","/app/www/VisualSearch/mobile/Cropper.tsx")},[]);let x=(0,m.ZP)(),{closeupImageWidth:w,closeupImageHeight:b}=t,v=Math.floor(b*a),S=Math.floor(w*i),j=Math.floor(b*l),k=Math.floor(w*n),P=S+k,C=v+j;return(0,W.jsxs)(u.xu,{"data-test-id":"cropper-container",onTouchEnd:h,onTouchMove:p,onTouchStart:g,position:"relative",children:[(0,W.jsx)(ek,{closeupImageHeight:b,closeupImageWidth:w,pinDominantColor:f,url:e??""}),(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:eC},height:v,left:!0,position:"absolute",top:!0,width:"100%"}),(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...eC,top:v}},height:j,left:!0,position:"absolute",width:S}),(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...eC,top:v,left:P}},height:j,position:"absolute",right:!0}),(0,W.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...eC,top:C}},left:!0,position:"absolute",width:"100%"}),!c&&(0,W.jsxs)(u.xu,{"data-test-id":"CropperHandles",children:[(0,W.jsx)(eP,{alt:x.bt("Top left cropper handle", "Top left cropper handle", "flashlight.cropper.topLeftHandle", undefined, true),left:S-9,src:ev,top:v-9}),(0,W.jsx)(eP,{alt:x.bt("Top right cropper handle", "Top right cropper handle", "flashlight.cropper.topRightHandle", undefined, true),left:P-15,src:eS,top:v-9}),(0,W.jsx)(eP,{alt:x.bt("Bottom left cropper handle", "Bottom left cropper handle", "flashlight.cropper.bottomLeftHandle", undefined, true),left:S-9,src:ew,top:C-15}),(0,W.jsx)(eP,{alt:x.bt("Bottom right cropper handle", "Bottom right cropper handle", "flashlight.Cropper.BottomLeftHandle", undefined, true),left:P-15,src:eb,top:C-15})]}),(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:v-2,left:S-2,border:s?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:j+4,position:"absolute",rounding:2,width:k+4}),y&&(0,W.jsx)(X,{handleBackClick:d,viewParameter:_,viewType:427})]})}var eI=i(556872);function eF({auxData:e,onClick:t,shouldLogDotRender:i,showNoHalo:a,style:n,viewParameter:l,x:s,y:c}){(0,r.useEffect)(()=>{(0,o.Z)("Dot","/app/www/VisualSearch/mobile/Dot.tsx")},[]);let d=(0,m.ZP)(),h=(0,L.Z)();return(0,T.Z)(()=>{i&&h({aux_data:e,element:1221,event_type:120,view_parameter:l,view_type:72})}),(0,W.jsx)("div",{"aria-label":d.bt("Select a specific item on image", "Select a specific item on image", "dot.accessibilityLabel", undefined, true),"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:c-16,left:s-16,outline:"none",...n},tabIndex:0,children:(0,W.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:t?"pointer":"default"}},children:(0,W.jsx)(u.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var eE=i(450808);let eZ="flashlightDotPop",eA=(0,eE.Ll)([`
  ${eZ} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]);function eM({closeupImageTop:e,imageHeight:t,imageTop:i,imageWidth:a,onDotTap:n,pinId:l,pinImageSignature:s,setCropArea:c,shouldLogDotRender:d,showNoHalo:u,viewParameter:h,visualObjects:p,visualObjectToHide:m}){(0,r.useEffect)(()=>{(0,o.Z)("Dots","/app/www/VisualSearch/mobile/Dots.tsx")},[]);let g=(0,L.Z)();return(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(v.Z,{unsafeCSS:eA}),p.map((o,r)=>{if(r===m)return null;let{x:f=0,y=0,w:_=0,h:x=0}=o,w={x:f,y,h:x,w:_},b=(0,eI.Z)({cropArea:{x:f,y,w:_,h:x},scaledWidth:a,scaledHeight:t}),v=Math.floor(b.x+b.w/2),S=Math.floor(b.y+i+b.h/2),j=(e=>{let t=parseFloat((.1*e).toFixed(2));return{animation:`${eZ} 0.3s ease-out ${t}s both`}})(r),k={pin_id:l,image_signature:s,visual_objects:JSON.stringify([w]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,W.jsx)(eF,{auxData:k,onClick:function(){g({aux_data:k,element:1221,event_type:102,view_parameter:h,view_type:72}),n({cropArea:w,cropSource:4,visualObjects:p}),c?.(w)},shouldLogDotRender:d,showNoHalo:u,style:j,viewParameter:h,x:v,y:S-e},JSON.stringify(w))})]})}function eD({closeupImageUrl:e,closeupImageDims:t,cropArea:i,handleBackClick:a,handleChangeCloseupImageTop:n,handleCropperChange:l,headerHeight:c,pinDominantColor:d,pinId:h,pinImageSignature:p,showBackButton:m,viewParameter:g,visualObjects:f,visualObjectToHide:y}){(0,r.useEffect)(()=>{(0,o.Z)("VisualSearch","/app/www/VisualSearch/mobile/VisualSearch.tsx")},[]);let _=(0,L.Z)(),{isAuth:x}=(0,s.Z)(),w=(0,r.useRef)(null),[b,v]=(0,r.useState)(0),[S,j]=(0,r.useState)(0),[k,P]=(0,r.useState)(10),[C,T]=(0,r.useState)(i),{current:I}=(0,ex.Z)(),{x:F,y:E,w:Z,h:A}=C,{closeupImageTop:M,closeupImageMinTop:D,closeupImageWidth:R,closeupImageHeight:H,minCropperWidthRatio:z,minCropperHeightRatio:O}=t,K=c||0;return(0,W.jsx)(u.kC,{justifyContent:"center",width:"100vw",children:(0,W.jsxs)(u.xu,{ref:w,dangerouslySetInlineStyle:{__style:{top:M,touchAction:"none"}},maxWidth:ef.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,W.jsx)(eT,{closeupImageDims:t,closeupImageUrl:e,cropArea:C,handleBackClick:a,onTouchEnd:()=>{[10,0].includes(k)||(_({event_type:1===k?7603:7604,view_parameter:g,view_type:72}),l({cropArea:C,cropSource:6,visualObjects:f}))},onTouchMove:e=>{let{clientX:t,clientY:i}=e.touches[0];if(v(t),j(i),10===k&&P(((e,t)=>{let i=t-M,a=e-(w.current?w.current.getBoundingClientRect().left:0),n=H*E,l=H*(E+A),o=R*F,r=R*(Z+F);if(i>n+12&&i<l-12&&a>o+12&&a<r-12)return 1;if(a<=o+12&&a>=o-12&&i>=n+15&&i<=l-15)return 2;if(a<=r+12&&a>=r-12&&i>=n+15&&i<=l-15)return 3;if(a<=r-15&&a>=o+15&&i>=n-12&&i<=n+12)return 4;if(a<=r-15&&a>=o+15&&i>=l-12&&i<=l+12)return 5;if(a<=o-9+24&&a>=o-12&&i>=n-12&&i<=n+24-9)return 6;if(a<=r+12&&a>=r-15&&i>=n-12&&i<=n+24-9)return 7;else if(a<=o-9+24&&a>=o-12&&i>=l-15&&i<=l+12)return 8;else if(a<=r+12&&a>=r-15&&i>=l-15&&i<=l+12)return 9;else return 0})(t,i)),null!=z&&null!=O&&null!=D){let e=i-S,a=(t-b)/R,l=e/H,o=Math.min(F+Z-z,Math.max(0,F+a)),r=Z+(F-o),s=Math.min(E+A-O,Math.max(0,E+l)),c=A+(E-s),d=Math.min(1-F,Math.max(z,Z+a)),u=Math.min(1-E,Math.max(O,A+l));switch(k){case 0:n(Math.floor(Math.max(D,Math.min(K,M+e))));break;case 1:T(e=>({...e,x:Math.max(0,Math.min(1-Z,F+a)),y:Math.max(0,Math.min(1-A,E+l))}));break;case 2:T(e=>({...e,x:o,w:r}));break;case 3:T(e=>({...e,w:d}));break;case 4:T(e=>({...e,y:s,h:c}));break;case 5:T(e=>({...e,h:u}));break;case 6:T({x:o,w:r,y:s,h:c});break;case 7:T(e=>({...e,w:d,y:s,h:c}));break;case 8:T(e=>({...e,h:u,x:o,w:r}));break;case 9:T(e=>({...e,h:u,w:d}))}}},onTouchStart:e=>{let{clientX:t,clientY:i}=e.touches[0];v(t),j(i),P(10)},pinDominantColor:d,showBackButton:m,viewParameter:g}),!!f.length&&0!==H&&0!==R&&(0,W.jsx)(u.xu,{"data-test-id":"FlashlightDots",children:(0,W.jsx)(eM,{closeupImageTop:M,imageHeight:H,imageTop:M,imageWidth:R,onDotTap:l,pinId:h,pinImageSignature:p,setCropArea:T,shouldLogDotRender:!I,showNoHalo:x,viewParameter:g,visualObjects:f,visualObjectToHide:y})})]})})}let eL=`
  html, body {
    overscroll-behavior: none;
  }
`,eR=(void 0!==a||(a=i(272636)).hash&&"a4c8c4488bd813d69ca9e96072e3d2d7"!==a.hash&&console.error("The definition of 'MobileFlashlightPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function eH({pinKey:e}){(0,r.useEffect)(()=>{(0,o.Z)("MobileFlashlightPage","/app/www/VisualSearch/mobile/MobileFlashlightPage.tsx")},[]);let t=(0,m.ZP)(),i=(0,_.I0)(),a=(0,x.s0)(),{previous:n}=(0,b.ou)(),l=(0,x.TH)(),{isAuth:d}=(0,s.Z)(),{width:p}=(0,w.Z)()||{},g=(0,c.ZP)(),f=(0,h.Z)(eR,e),{checkExperiment:y}=(0,j.Z)(),L=d&&y("web_search_hybrid_object_level_onebar",{dangerouslySkipActivation:!0}).anyEnabled,R=(0,C.mB)(l.search),{cropSource:H,filters:z,hybrid_search_param:O,journey_depth:K,search_query:N,source_module_id:V,x:B,y:U,h:G,w:$,surfaceType:q,requestParams:J}=R,Q=q||"flashlight",ee=!d&&(0,P.x9)(g)||void 0,[et,ei]=(0,r.useState)(()=>{var e,t,i;let a,n,l=function({headerHeight:e,pinImageHeight:t,pinImageWidth:i}){let a=0,n=0,l=0;return t&&i&&(a=ey(),n=e_(t,i),l=Math.min(Math.floor(.6*window.innerHeight),e_(t,i))),{closeupImageWidth:a,closeupImageHeight:n,closeupImageMinTop:l-n,closeupImageTop:e||0,minCropperWidthRatio:a?50/a:0,minCropperHeightRatio:n?50/n:0,modalTop:l}}({headerHeight:ee,pinImageHeight:f.imageSpec_736x?.height,pinImageWidth:f.imageSpec_736x?.width}),{closeupImageHeight:o,modalTop:r}=l,s=(e=Number(G),t=Number(U),i=ee||0,a=e?Number(e):.4,n=t?Number(t):.1,o>0&&r>0&&(e||(a=(r-2*r*.1-i)/o),t||(n=.1*r/o)),{h:a,y:n});return{closeupImageDims:l,x:B?Number(B):.1,w:$?Number($):.8,y:s.y,h:s.h}}),[ea,en]=(0,r.useState)(()=>(0,F.Z)(Number(H))||(B&&U&&G&&$?6:5)),el={x:et.x,y:et.y,w:et.w,h:et.h},eo="stl"===Q&&4===ea,er=function({cropSource:e,surfaceType:t,isProductPage:i,queryEntrypoint:a}){return a||("stl"===t&&4===e?"shop_the_look_module":i?"feed_module":null)}({cropSource:ea,isProductPage:!1,surfaceType:Q,queryEntrypoint:R.entrypoint}),es={pin_id:f?.entityId,crop:el,crop_source:ea,is_shopping:eo,entry_source:eo?"shopping":"flashlight",entrypoint:er,filters:z,hybrid_search_param:O,journey_depth:parseInt(K,10)||void 0,search_query:N,source_module_id:V},ec=(f.visualObjects??[]).filter(e=>e.isStela).map(Z.Z),[ed,eu]=(0,r.useState)((0,I.Z)(ec,el)),{isCropAreaOnDotArea:eh,indexToHide:ep}=ed,{closeupImageWidth:ef,modalTop:ex}=et.closeupImageDims,ew=f?.imageSpec_736x?.url??"",eb=!p||p-60<ef&&d,ev=!eb&&d,eS=d?60*!L:ee,ej=t.bt("Visual search", "Visual search", "Visual search results", undefined, true),{auxData:ek,viewType:eP,viewParameter:eC}=function({cropSource:e,isAuth:t,isCropAreaOnDotArea:i,isProductPage:a,surfaceType:n}){let l=t||"stl"===n,o=4===e||i,r=a?"product":"stl"===n?o?"product":"organic":t&&o?"unified":"organic";return{auxData:(()=>{let e=e=>({commerce_data:JSON.stringify({is_product_only_feed:e})});return"product"===r?e(!0):"unified"===r||l?e(!1):void 0})(),viewType:"product"===r?427:72,viewParameter:"organic"===r?3050:3462}}({cropSource:ea,isAuth:d,isCropAreaOnDotArea:eh,isProductPage:!1,surfaceType:Q}),eT=e=>i({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});function eI(){if(0===n.length)return void a(`/pin/${f.entityId}/`,{replace:!0});a(-1)}return((0,T.Z)(()=>{eT(ea)}),0===ex)?null:(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(v.Z,{unsafeCSS:eL}),(0,W.jsx)(A.Z,{auxData:ek,viewParameter:eC,viewType:eP,children:(0,W.jsx)(k.Z,{view:eP,children:(0,W.jsxs)(S.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,W.jsx)(M.Z,{text:t.bt("Visual search page", "Visual Search Page", "flashlight.accessibilityhiddenheading.fullpage", undefined, true)}),(0,W.jsx)(u.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,W.jsx)(eD,{closeupImageDims:et.closeupImageDims,closeupImageUrl:ew,cropArea:el,handleBackClick:eI,handleChangeCloseupImageTop:function(e){ei(t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:t,visualObjects:n}){let l;eT(t),l=f.entityId,i((0,D.By)(l)),eu((0,I.Z)(n,e)),en(t),ei(t=>({...t,...e})),a((0,E.Z)({cropArea:e,cropSource:t,isProductPage:!1,pinId:f.entityId,requestParams:J,surfaceType:Q}),{replace:!0})},headerHeight:ee,pinDominantColor:f.dominantColor||"#efefef",pinId:f.entityId,pinImageSignature:f.imageSignature,showBackButton:eb,viewParameter:eC,visualObjects:ec,visualObjectToHide:ep}),ev&&(0,W.jsx)(X,{handleBackClick:eI,viewParameter:eC,viewType:eP}),(0,W.jsx)(Y,{canMoveModal:!0,cropSource:ea,entryPoint:"flashlight",headerHeight:ee,heading:ej,isOpen:!0,location:l,maxDistanceFromTop:ex||0,minDistanceFromTop:eS,mobileAccessibilityCloseIconLabel:t.bt("Close visual search results", "Close visual search results", "close visual search results and go back to pin", undefined, true),mobileHideCloseIcon:d,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eI,pinId:f.entityId,shouldSnapToEnds:!0,showHandle:d,snapToEndThreshold:.3,viewParameter:eC,viewType:eP,children:d?(0,W.jsx)(em,{auxData:ek,isShopTheLookFeed:eo,pinId:f.entityId,searchResourceOptions:es,surfaceType:Q,viewParameter:eC,viewType:eP}):(0,W.jsx)(eg,{isShopTheLookFeed:eo,searchResourceOptions:es,viewParameter:eC,viewType:eP})})]})})})]})}var ez=i(430635);let eO=(void 0!==n||(n=i(807352)).hash&&"df8cf9d2521b1a82156cc4ecd7b04884"!==n.hash&&console.error("The definition of 'MobileFlashlightPageFetchData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),eK=(void 0!==l||(l=i(345463)).hash&&"a0953a7ea15ce447a2452bbeca8586ba"!==l.hash&&console.error("The definition of 'MobileFlashlightPageFetchDataPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function eN(){let e=(0,ez.Z)(),{pinId:t}=(0,f.Z)(e.params.id||""),i=(0,p.Z)({strategy:"Legacy",query:eK,variables:{pinId:t},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,g.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),i=(0,y.S6)()(e);return t??i}}),a=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,n=(0,h.Z)(eO,a);return n?(0,W.jsx)(eH,{pinKey:n}):null}function eV(){(0,r.useEffect)(()=>{(0,o.Z)("MobileFlashlightPageFetchData","/app/www/VisualSearch/mobile/MobileFlashlightPageFetchData.tsx")},[]);let e=(0,m.ZP)();return(0,W.jsx)(r.Suspense,{fallback:(0,W.jsx)(u.xH,{accessibilityLabel:e.bt("Loading Pin data", "Loading Pin data", "mobileFlashlightPage.loadingPinData", undefined, true),show:!0}),children:(0,W.jsx)(eN,{})})}var eB=i(290003);let eW=function(){(0,r.useEffect)(()=>{(0,o.Z)("VisualSearchPage","/app/www/pages/VisualSearchPage.tsx")},[]);let e=(0,c.HG)(),t=(0,s.Z)();return e?t.isAuth?(0,W.jsx)(d.Z,{}):(0,W.jsx)(eB.Z,{}):(0,W.jsx)(eV,{})}},113481:function(e,t,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/visual-search",function(){return i(88410).Z}])},976892:function(e){e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},47239:function(e){e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},615440:function(e){e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},743222:function(e){e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"}},function(e){e.O(0,["25418","26320","33913","35806","36849","38566","39174","39176","41642","47342","49793","51226","52653","58967","67069","67243","73967","79094","9094","92911","950","98283","98717"],function(){return e(e.s=113481)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search.en_GB-c8b5459506adc1f8.mjs.map